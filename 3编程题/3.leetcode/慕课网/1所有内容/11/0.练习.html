<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let arr = [1, 4, 3, 5, 2];
      Array.prototype.mergeSort = function () {
        const rec = (arr) => {
          if (arr.length === 1) return arr;
          const mid = Math.floor(arr.length / 2);
          const left = arr.slice(0, mid);
          const right = arr.slice(mid, arr.length);
          const orderLeft = rec(left);
          const orderRight = rec(right);
          const res = [];
          while (orderLeft.length || orderRight.length) {
            if (orderLeft.length && orderRight.length) {
              res.push(
                orderLeft[0] < orderRight[0]
                  ? orderLeft.shift()
                  : orderRight.shift()
              );
            } else if (orderLeft.length) {
              res.push(orderLeft.shift());
            } else if (orderRight.length) {
              res.push(orderRight.shift());
            }
          }
          return res;
        };
        const res = rec(this);
        res.forEach((n, i) => (this[i] = n));
        console.log(this);
      };
      arr.mergeSort();
    </script>
  </body>
</html>
